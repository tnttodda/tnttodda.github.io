<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Fin.Variation</title><link rel="stylesheet" href="https://www.cs.bham.ac.uk/~txw467/tychonoff/Agda.css"></head><body><pre class="Agda"><a id="1" class="Background">Martin Escardo, 2nd December 2019

</a><a id="36" class="Markup">\begin{code}</a>

<a id="50" class="Symbol">{-#</a> <a id="54" class="Keyword">OPTIONS</a> <a id="62" class="Pragma">--safe</a> <a id="69" class="Pragma">--without-K</a> <a id="81" class="Symbol">#-}</a>

<a id="86" class="Keyword">module</a> <a id="93" href="Fin.Variation.html" class="Module">Fin.Variation</a> <a id="107" class="Keyword">where</a>

<a id="114" class="Keyword">open</a> <a id="119" class="Keyword">import</a> <a id="126" href="UF.Subsingletons.html" class="Module">UF.Subsingletons</a>

<a id="144" class="Keyword">open</a> <a id="149" class="Keyword">import</a> <a id="156" href="Fin.Type.html" class="Module">Fin.Type</a>
<a id="165" class="Keyword">open</a> <a id="170" class="Keyword">import</a> <a id="177" href="MLTT.Spartan.html" class="Module">MLTT.Spartan</a>
<a id="190" class="Keyword">open</a> <a id="195" class="Keyword">import</a> <a id="202" href="Naturals.Order.html" class="Module">Naturals.Order</a>
<a id="217" class="Keyword">open</a> <a id="222" class="Keyword">import</a> <a id="229" href="Notation.Order.html" class="Module">Notation.Order</a>
<a id="244" class="Keyword">open</a> <a id="249" class="Keyword">import</a> <a id="256" href="UF.Equiv.html" class="Module">UF.Equiv</a>

<a id="266" class="Markup">\end{code}</a><a id="276" class="Background">

An isomorphic copy of the type Fin n:

</a><a id="317" class="Markup">\begin{code}</a>

<a id="Fin&#39;"></a><a id="331" href="Fin.Variation.html#331" class="Function">Fin&#39;</a> <a id="336" class="Symbol">:</a> <a id="338" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">â„•</a> <a id="340" class="Symbol">â†’</a> <a id="342" href="Agda.Primitive.html#915" class="Primitive">ğ“¤â‚€</a> <a id="345" href="MLTT.Universes.html#394" class="Function Operator">Ì‡</a>
<a id="347" href="Fin.Variation.html#331" class="Function">Fin&#39;</a> <a id="352" href="Fin.Variation.html#352" class="Bound">n</a> <a id="354" class="Symbol">=</a> <a id="356" href="MLTT.Sigma.html#423" class="Function">Î£</a> <a id="358" href="Fin.Variation.html#358" class="Bound">k</a> <a id="360" href="MLTT.Sigma.html#423" class="Function">ê‰</a> <a id="362" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">â„•</a> <a id="364" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="366" href="Fin.Variation.html#358" class="Bound">k</a> <a id="368" href="Notation.Order.html#273" class="Field Operator">&lt;</a> <a id="370" href="Fin.Variation.html#352" class="Bound">n</a>

<a id="ğŸ&#39;"></a><a id="373" href="Fin.Variation.html#373" class="Function">ğŸ&#39;</a> <a id="376" class="Symbol">:</a> <a id="378" class="Symbol">{</a><a id="379" href="Fin.Variation.html#379" class="Bound">n</a> <a id="381" class="Symbol">:</a> <a id="383" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">â„•</a><a id="384" class="Symbol">}</a> <a id="386" class="Symbol">â†’</a> <a id="388" href="Fin.Variation.html#331" class="Function">Fin&#39;</a> <a id="393" class="Symbol">(</a><a id="394" href="MLTT.Natural-Numbers-Type.html#123" class="InductiveConstructor">succ</a> <a id="399" href="Fin.Variation.html#379" class="Bound">n</a><a id="400" class="Symbol">)</a>
<a id="402" href="Fin.Variation.html#373" class="Function">ğŸ&#39;</a> <a id="405" class="Symbol">{</a><a id="406" href="Fin.Variation.html#406" class="Bound">n</a><a id="407" class="Symbol">}</a> <a id="409" class="Symbol">=</a> <a id="411" class="Number">0</a> <a id="413" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="415" href="Naturals.Order.html#1721" class="Function">zero-least</a> <a id="426" href="Fin.Variation.html#406" class="Bound">n</a>

<a id="suc&#39;"></a><a id="429" href="Fin.Variation.html#429" class="Function">suc&#39;</a> <a id="434" class="Symbol">:</a> <a id="436" class="Symbol">{</a><a id="437" href="Fin.Variation.html#437" class="Bound">n</a> <a id="439" class="Symbol">:</a> <a id="441" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">â„•</a><a id="442" class="Symbol">}</a> <a id="444" class="Symbol">â†’</a> <a id="446" href="Fin.Variation.html#331" class="Function">Fin&#39;</a> <a id="451" href="Fin.Variation.html#437" class="Bound">n</a> <a id="453" class="Symbol">â†’</a> <a id="455" href="Fin.Variation.html#331" class="Function">Fin&#39;</a> <a id="460" class="Symbol">(</a><a id="461" href="MLTT.Natural-Numbers-Type.html#123" class="InductiveConstructor">succ</a> <a id="466" href="Fin.Variation.html#437" class="Bound">n</a><a id="467" class="Symbol">)</a>
<a id="469" href="Fin.Variation.html#429" class="Function">suc&#39;</a> <a id="474" class="Symbol">(</a><a id="475" href="Fin.Variation.html#475" class="Bound">k</a> <a id="477" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="479" href="Fin.Variation.html#479" class="Bound">l</a><a id="480" class="Symbol">)</a> <a id="482" class="Symbol">=</a> <a id="484" href="MLTT.Natural-Numbers-Type.html#123" class="InductiveConstructor">succ</a> <a id="489" href="Fin.Variation.html#475" class="Bound">k</a> <a id="491" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="493" href="Fin.Variation.html#479" class="Bound">l</a>

<a id="Fin-unprime"></a><a id="496" href="Fin.Variation.html#496" class="Function">Fin-unprime</a> <a id="508" class="Symbol">:</a> <a id="510" class="Symbol">(</a><a id="511" href="Fin.Variation.html#511" class="Bound">n</a> <a id="513" class="Symbol">:</a> <a id="515" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">â„•</a><a id="516" class="Symbol">)</a> <a id="518" class="Symbol">â†’</a> <a id="520" href="Fin.Variation.html#331" class="Function">Fin&#39;</a> <a id="525" href="Fin.Variation.html#511" class="Bound">n</a> <a id="527" class="Symbol">â†’</a> <a id="529" href="Fin.Type.html#186" class="Function">Fin</a> <a id="533" href="Fin.Variation.html#511" class="Bound">n</a>
<a id="535" href="Fin.Variation.html#496" class="Function">Fin-unprime</a> <a id="547" class="Number">0</a>        <a id="556" class="Symbol">(</a><a id="557" href="Fin.Variation.html#557" class="Bound">k</a> <a id="559" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="561" href="Fin.Variation.html#561" class="Bound">l</a><a id="562" class="Symbol">)</a>      <a id="569" class="Symbol">=</a> <a id="571" href="MLTT.Empty.html#356" class="Function">ğŸ˜-elim</a> <a id="578" href="Fin.Variation.html#561" class="Bound">l</a>
<a id="580" href="Fin.Variation.html#496" class="Function">Fin-unprime</a> <a id="592" class="Symbol">(</a><a id="593" href="MLTT.Natural-Numbers-Type.html#123" class="InductiveConstructor">succ</a> <a id="598" href="Fin.Variation.html#598" class="Bound">n</a><a id="599" class="Symbol">)</a> <a id="601" class="Symbol">(</a><a id="602" class="Number">0</a> <a id="604" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="606" href="Fin.Variation.html#606" class="Bound">l</a><a id="607" class="Symbol">)</a>      <a id="614" class="Symbol">=</a> <a id="616" href="Fin.Type.html#664" class="InductiveConstructor">ğŸ</a>
<a id="618" href="Fin.Variation.html#496" class="Function">Fin-unprime</a> <a id="630" class="Symbol">(</a><a id="631" href="MLTT.Natural-Numbers-Type.html#123" class="InductiveConstructor">succ</a> <a id="636" href="Fin.Variation.html#636" class="Bound">n</a><a id="637" class="Symbol">)</a> <a id="639" class="Symbol">(</a><a id="640" href="MLTT.Natural-Numbers-Type.html#123" class="InductiveConstructor">succ</a> <a id="645" href="Fin.Variation.html#645" class="Bound">k</a> <a id="647" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="649" href="Fin.Variation.html#649" class="Bound">l</a><a id="650" class="Symbol">)</a> <a id="652" class="Symbol">=</a> <a id="654" href="Fin.Type.html#748" class="InductiveConstructor">suc</a> <a id="658" class="Symbol">(</a><a id="659" href="Fin.Variation.html#496" class="Function">Fin-unprime</a> <a id="671" href="Fin.Variation.html#636" class="Bound">n</a> <a id="673" class="Symbol">(</a><a id="674" href="Fin.Variation.html#645" class="Bound">k</a> <a id="676" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="678" href="Fin.Variation.html#649" class="Bound">l</a><a id="679" class="Symbol">))</a>

<a id="Fin-prime"></a><a id="683" href="Fin.Variation.html#683" class="Function">Fin-prime</a> <a id="693" class="Symbol">:</a> <a id="695" class="Symbol">(</a><a id="696" href="Fin.Variation.html#696" class="Bound">n</a> <a id="698" class="Symbol">:</a> <a id="700" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">â„•</a><a id="701" class="Symbol">)</a> <a id="703" class="Symbol">â†’</a> <a id="705" href="Fin.Type.html#186" class="Function">Fin</a> <a id="709" href="Fin.Variation.html#696" class="Bound">n</a> <a id="711" class="Symbol">â†’</a> <a id="713" href="Fin.Variation.html#331" class="Function">Fin&#39;</a> <a id="718" href="Fin.Variation.html#696" class="Bound">n</a>
<a id="720" href="Fin.Variation.html#683" class="Function">Fin-prime</a> <a id="730" class="Number">0</a>        <a id="739" href="Fin.Variation.html#739" class="Bound">i</a>       <a id="747" class="Symbol">=</a> <a id="749" href="MLTT.Empty.html#356" class="Function">ğŸ˜-elim</a> <a id="756" href="Fin.Variation.html#739" class="Bound">i</a>
<a id="758" href="Fin.Variation.html#683" class="Function">Fin-prime</a> <a id="768" class="Symbol">(</a><a id="769" href="MLTT.Natural-Numbers-Type.html#123" class="InductiveConstructor">succ</a> <a id="774" href="Fin.Variation.html#774" class="Bound">n</a><a id="775" class="Symbol">)</a> <a id="777" class="Symbol">(</a><a id="778" href="Fin.Type.html#748" class="InductiveConstructor">suc</a> <a id="782" href="Fin.Variation.html#782" class="Bound">i</a><a id="783" class="Symbol">)</a> <a id="785" class="Symbol">=</a> <a id="787" href="Fin.Variation.html#429" class="Function">suc&#39;</a> <a id="792" class="Symbol">(</a><a id="793" href="Fin.Variation.html#683" class="Function">Fin-prime</a> <a id="803" href="Fin.Variation.html#774" class="Bound">n</a> <a id="805" href="Fin.Variation.html#782" class="Bound">i</a><a id="806" class="Symbol">)</a>
<a id="808" href="Fin.Variation.html#683" class="Function">Fin-prime</a> <a id="818" class="Symbol">(</a><a id="819" href="MLTT.Natural-Numbers-Type.html#123" class="InductiveConstructor">succ</a> <a id="824" href="Fin.Variation.html#824" class="Bound">n</a><a id="825" class="Symbol">)</a> <a id="827" href="Fin.Type.html#664" class="InductiveConstructor">ğŸ</a>       <a id="835" class="Symbol">=</a> <a id="837" href="Fin.Variation.html#373" class="Function">ğŸ&#39;</a>

<a id="Î·Fin"></a><a id="841" href="Fin.Variation.html#841" class="Function">Î·Fin</a> <a id="846" class="Symbol">:</a> <a id="848" class="Symbol">(</a><a id="849" href="Fin.Variation.html#849" class="Bound">n</a> <a id="851" class="Symbol">:</a> <a id="853" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">â„•</a><a id="854" class="Symbol">)</a> <a id="856" class="Symbol">â†’</a> <a id="858" href="Fin.Variation.html#683" class="Function">Fin-prime</a> <a id="868" href="Fin.Variation.html#849" class="Bound">n</a> <a id="870" href="MLTT.Pi.html#513" class="Function Operator">âˆ˜</a> <a id="872" href="Fin.Variation.html#496" class="Function">Fin-unprime</a> <a id="884" href="Fin.Variation.html#849" class="Bound">n</a> <a id="886" href="MLTT.Id.html#1368" class="Function Operator">âˆ¼</a> <a id="888" href="MLTT.Pi.html#444" class="Function">id</a>
<a id="891" href="Fin.Variation.html#841" class="Function">Î·Fin</a> <a id="896" class="Number">0</a>        <a id="905" class="Symbol">(</a><a id="906" href="Fin.Variation.html#906" class="Bound">k</a> <a id="908" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="910" href="Fin.Variation.html#910" class="Bound">l</a><a id="911" class="Symbol">)</a>      <a id="918" class="Symbol">=</a> <a id="920" href="MLTT.Empty.html#356" class="Function">ğŸ˜-elim</a> <a id="927" href="Fin.Variation.html#910" class="Bound">l</a>
<a id="929" href="Fin.Variation.html#841" class="Function">Î·Fin</a> <a id="934" class="Symbol">(</a><a id="935" href="MLTT.Natural-Numbers-Type.html#123" class="InductiveConstructor">succ</a> <a id="940" href="Fin.Variation.html#940" class="Bound">n</a><a id="941" class="Symbol">)</a> <a id="943" class="Symbol">(</a><a id="944" class="Number">0</a> <a id="946" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="948" href="Fin.Variation.html#948" class="Bound">*</a><a id="949" class="Symbol">)</a>      <a id="956" class="Symbol">=</a> <a id="958" href="MLTT.Identity-Type.html#158" class="InductiveConstructor">refl</a>
<a id="963" href="Fin.Variation.html#841" class="Function">Î·Fin</a> <a id="968" class="Symbol">(</a><a id="969" href="MLTT.Natural-Numbers-Type.html#123" class="InductiveConstructor">succ</a> <a id="974" href="Fin.Variation.html#974" class="Bound">n</a><a id="975" class="Symbol">)</a> <a id="977" class="Symbol">(</a><a id="978" href="MLTT.Natural-Numbers-Type.html#123" class="InductiveConstructor">succ</a> <a id="983" href="Fin.Variation.html#983" class="Bound">k</a> <a id="985" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="987" href="Fin.Variation.html#987" class="Bound">l</a><a id="988" class="Symbol">)</a> <a id="990" class="Symbol">=</a> <a id="992" href="MLTT.Id.html#1137" class="Function">ap</a> <a id="995" href="Fin.Variation.html#429" class="Function">suc&#39;</a> <a id="1000" class="Symbol">(</a><a id="1001" href="Fin.Variation.html#841" class="Function">Î·Fin</a> <a id="1006" href="Fin.Variation.html#974" class="Bound">n</a> <a id="1008" class="Symbol">(</a><a id="1009" href="Fin.Variation.html#983" class="Bound">k</a> <a id="1011" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="1013" href="Fin.Variation.html#987" class="Bound">l</a><a id="1014" class="Symbol">))</a>


<a id="ÎµFin"></a><a id="1019" href="Fin.Variation.html#1019" class="Function">ÎµFin</a> <a id="1024" class="Symbol">:</a> <a id="1026" class="Symbol">(</a><a id="1027" href="Fin.Variation.html#1027" class="Bound">n</a> <a id="1029" class="Symbol">:</a> <a id="1031" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">â„•</a><a id="1032" class="Symbol">)</a> <a id="1034" class="Symbol">â†’</a> <a id="1036" href="Fin.Variation.html#496" class="Function">Fin-unprime</a> <a id="1048" href="Fin.Variation.html#1027" class="Bound">n</a> <a id="1050" href="MLTT.Pi.html#513" class="Function Operator">âˆ˜</a> <a id="1052" href="Fin.Variation.html#683" class="Function">Fin-prime</a> <a id="1062" href="Fin.Variation.html#1027" class="Bound">n</a> <a id="1064" href="MLTT.Id.html#1368" class="Function Operator">âˆ¼</a> <a id="1066" href="MLTT.Pi.html#444" class="Function">id</a>
<a id="1069" href="Fin.Variation.html#1019" class="Function">ÎµFin</a> <a id="1074" class="Number">0</a>        <a id="1083" href="Fin.Variation.html#1083" class="Bound">i</a>       <a id="1091" class="Symbol">=</a> <a id="1093" href="MLTT.Empty.html#356" class="Function">ğŸ˜-elim</a> <a id="1100" href="Fin.Variation.html#1083" class="Bound">i</a>
<a id="1102" href="Fin.Variation.html#1019" class="Function">ÎµFin</a> <a id="1107" class="Symbol">(</a><a id="1108" href="MLTT.Natural-Numbers-Type.html#123" class="InductiveConstructor">succ</a> <a id="1113" href="Fin.Variation.html#1113" class="Bound">n</a><a id="1114" class="Symbol">)</a> <a id="1116" class="Symbol">(</a><a id="1117" href="Fin.Type.html#748" class="InductiveConstructor">suc</a> <a id="1121" href="Fin.Variation.html#1121" class="Bound">i</a><a id="1122" class="Symbol">)</a> <a id="1124" class="Symbol">=</a> <a id="1126" href="MLTT.Id.html#1137" class="Function">ap</a> <a id="1129" href="Fin.Type.html#748" class="InductiveConstructor">suc</a> <a id="1133" class="Symbol">(</a><a id="1134" href="Fin.Variation.html#1019" class="Function">ÎµFin</a> <a id="1139" href="Fin.Variation.html#1113" class="Bound">n</a> <a id="1141" href="Fin.Variation.html#1121" class="Bound">i</a><a id="1142" class="Symbol">)</a>
<a id="1144" href="Fin.Variation.html#1019" class="Function">ÎµFin</a> <a id="1149" class="Symbol">(</a><a id="1150" href="MLTT.Natural-Numbers-Type.html#123" class="InductiveConstructor">succ</a> <a id="1155" href="Fin.Variation.html#1155" class="Bound">n</a><a id="1156" class="Symbol">)</a> <a id="1158" href="Fin.Type.html#664" class="InductiveConstructor">ğŸ</a>       <a id="1166" class="Symbol">=</a> <a id="1168" href="MLTT.Identity-Type.html#158" class="InductiveConstructor">refl</a>

<a id="Fin-prime-is-equiv"></a><a id="1174" href="Fin.Variation.html#1174" class="Function">Fin-prime-is-equiv</a> <a id="1193" class="Symbol">:</a> <a id="1195" class="Symbol">(</a><a id="1196" href="Fin.Variation.html#1196" class="Bound">n</a> <a id="1198" class="Symbol">:</a> <a id="1200" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">â„•</a><a id="1201" class="Symbol">)</a> <a id="1203" class="Symbol">â†’</a> <a id="1205" href="UF.Equiv.html#402" class="Function">is-equiv</a> <a id="1214" class="Symbol">(</a><a id="1215" href="Fin.Variation.html#683" class="Function">Fin-prime</a> <a id="1225" href="Fin.Variation.html#1196" class="Bound">n</a><a id="1226" class="Symbol">)</a>
<a id="1228" href="Fin.Variation.html#1174" class="Function">Fin-prime-is-equiv</a> <a id="1247" href="Fin.Variation.html#1247" class="Bound">n</a> <a id="1249" class="Symbol">=</a> <a id="1251" href="UF.Equiv.html#7029" class="Function">qinvs-are-equivs</a> <a id="1268" class="Symbol">(</a><a id="1269" href="Fin.Variation.html#683" class="Function">Fin-prime</a> <a id="1279" href="Fin.Variation.html#1247" class="Bound">n</a><a id="1280" class="Symbol">)</a>
                        <a id="1306" class="Symbol">(</a><a id="1307" href="Fin.Variation.html#496" class="Function">Fin-unprime</a> <a id="1319" href="Fin.Variation.html#1247" class="Bound">n</a> <a id="1321" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="1323" href="Fin.Variation.html#1019" class="Function">ÎµFin</a> <a id="1328" href="Fin.Variation.html#1247" class="Bound">n</a> <a id="1330" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="1332" href="Fin.Variation.html#841" class="Function">Î·Fin</a> <a id="1337" href="Fin.Variation.html#1247" class="Bound">n</a><a id="1338" class="Symbol">)</a>


<a id="â‰ƒ-Fin"></a><a id="1342" href="Fin.Variation.html#1342" class="Function">â‰ƒ-Fin</a> <a id="1348" class="Symbol">:</a> <a id="1350" class="Symbol">(</a><a id="1351" href="Fin.Variation.html#1351" class="Bound">n</a> <a id="1353" class="Symbol">:</a> <a id="1355" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">â„•</a><a id="1356" class="Symbol">)</a> <a id="1358" class="Symbol">â†’</a> <a id="1360" href="Fin.Type.html#186" class="Function">Fin</a> <a id="1364" href="Fin.Variation.html#1351" class="Bound">n</a> <a id="1366" href="UF.Equiv.html#1318" class="Function Operator">â‰ƒ</a> <a id="1368" href="Fin.Variation.html#331" class="Function">Fin&#39;</a> <a id="1373" href="Fin.Variation.html#1351" class="Bound">n</a>
<a id="1375" href="Fin.Variation.html#1342" class="Function">â‰ƒ-Fin</a> <a id="1381" href="Fin.Variation.html#1381" class="Bound">n</a> <a id="1383" class="Symbol">=</a> <a id="1385" href="Fin.Variation.html#683" class="Function">Fin-prime</a> <a id="1395" href="Fin.Variation.html#1381" class="Bound">n</a> <a id="1397" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="1399" href="Fin.Variation.html#1174" class="Function">Fin-prime-is-equiv</a> <a id="1418" href="Fin.Variation.html#1381" class="Bound">n</a>

<a id="1421" class="Markup">\end{code}</a><a id="1431" class="Background">
</a></pre></body></html>