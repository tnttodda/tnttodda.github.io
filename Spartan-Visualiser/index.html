<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  	<title>Sᴘᴀʀᴛᴀɴ Visualiser</title>
  	<link rel="stylesheet" type="text/css" href="./css/jquery-ui.css">
  	<link rel="stylesheet" type="text/css" href="./css/main.css">
  	<script src="./jquery-ui/jquery.js?time=" + (new Date()).getTime()></script>
  	<script src="./jquery-ui/jquery-ui.js?time=" + (new Date()).getTime()></script>
  	<script src="./js/examples.js?time=" + (new Date()).getTime()></script>
  	<script>
  		$(function() {
				var prog;
				switch(window.location.href[window.location.href.length-1]) {
					case "a": prog = ex1; break;
					case "b": prog = ex2; break;
					case "c": prog = ex3; break;
					case "d": prog = ex4; break;
					case "e": prog = ex5; break;
					case "f": prog = ex6; break;
					case "g": prog = ex7; break;
					case "h": prog = ex8; break;
					case "i": prog = ex9; break;
					case "j": prog = ex10; break;
					case "k": prog = ex11; break;
					default: prog = ex4;
				}
  			$("#btn-make-graph").button();
  			$("#btn-refresh").button();
				$("#btn-prev").button();
  			$("#btn-play").button();
  			$("#btn-pause").button();
  			$("#btn-next").button();
				$("#btn-skip").button();
  			$("#btn-save").button();
  			$("#btn-info").button();
        $("#cb-qrules").checkboxradio();
				$("#ta-program").val(prog);
  			$("#sm-example").selectmenu({
  				select: function(event, ui) {
  					switch($("#sm-example option:selected").val()) {
							case "ex1": prog = ex1; break;
							case "ex2": prog = ex2; break;
							case "ex3": prog = ex3; break;
							case "ex4": prog = ex4; break;
							case "ex5": prog = ex5; break;
							case "ex6": prog = ex6; break;
							case "ex7": prog = ex7; break;
							case "ex8": prog = ex8; break;
							case "ex9": prog = ex9; break;
							case "ex10": prog = ex10; break;
							case "ex11": prog = ex11; break;
  					}
  					$("#ta-program").val(prog);
  					$("#btn-make-graph").click();
  				}
  			});
  		});
  	</script>
</head>

<body>
	<div class="left">
		<select name="sm-example" id="sm-example">
			<option value="ex1">Ex1: Simple Arithmetic</option>
			<option value="ex2">Ex2: Arithmetic w/ Copying</option>
			<option value="ex3">Ex3: If Statement w/ Copying</option>
			<option value="ex4" selected>Ex4: Recursive Factorial</option>
			<option value="ex5">Ex5: Imperative Computation</option>
			<option value="ex6">Ex6: Call-with-current-continuation</option>
			<option value="ex7">Ex7: Divergent Computation</option>
			<option value="ex8">Ex8: Primality Test</option>
			<option value="ex9">Ex9: Simple State via Spartan Ops.</option>
			<option value="ex10">Ex10: Simple State via State Monad</option>
			<option value="ex11">Ex11: Coin Flip</option>
		</select>
		<button id="btn-info" onclick="window.open('help.html')">?</button>
		<textarea id="ta-program" rows="40" spellcheck=false style="width: 100%; height: 300px; resize: none; font-size: 12px;">
		</textarea>
		<textarea id="ta-graph" style="display:none;" readonly>
		</textarea>
		<button id="btn-make-graph" style="width:100%;height:10%">Compile >></button>
		<div align="center">
				<button style="width:18%;" id="btn-refresh">⏮️</button><button
				style="width:18%;" id="btn-prev">⏪</button><button
				style="width:22%;" id="btn-play">⏯️</button><button
				style="width:18%;" id="btn-next">⏩</button><button style="width:18%;" id="btn-skip">⏭️</button>
				<h3 id="stepcount">Step Count: 0</p>
		</div>

		<div>
			<b>Paper</b>: <i>Local Reasoning for Robust Observational Equivalence</i> by <a href="http://www.cs.bham.ac.uk/~drg/" target="_blank">Dan R. Ghica</a>, <a href="http://www.cs.bham.ac.uk/~kxm538/" target="_blank">Koko Muroya</a> and <a href=http://www.cs.bham.ac.uk/~txw467/ target="_blank">Todd Waugh Ambridge</a> [<a href="../spartan.pdf">PDF</a>] <br/>
			<b>Blog posts</b>: <i>How to make a programming language out of an algebra</i>, <a href="http://danghica.blogspot.com/2019/05/how-to-make-programming-language-out-of.html">Part 1</a> and <a href="http://danghica.blogspot.com/2019/05/the-essence-of-impure-computation.html">Part 2</a></br></br>
		<small>
			This is a visualisation/simulation tool of the GoI-style programming language framework Sᴘᴀʀᴛᴀɴ, by <a href="http://www.cs.bham.ac.uk/~drg/" target="_blank">Dan R. Ghica</a>, <a href="http://www.cs.bham.ac.uk/~kxm538/" target="_blank">Koko Muroya</a> and <a href=http://www.cs.bham.ac.uk/~txw467/ target="_blank">Todd Waugh Ambridge</a>.
			Visualiser implemented by <a href=http://www.cs.bham.ac.uk/~txw467/ target="_blank">Todd Waugh Ambridge</a> (based on previous work by <a href=http://www.cs.bham.ac.uk/~wtc488/ target="_blank">Steven Cheung</a>, using <a href=https://github.com/mstefaniuk/graph-viz-d3-js target="_blank">graph-viz-d3-js</a> for generating diagrams and <a href=https://github.com/tadeuzagallo/lc-js>lo-js</a> for parsing).
		</small>
		</div>
	</div>
	<div class="right">
		<div align="center" id="graph" style="width: 100%; height: 100%;"></div>
	</div>

	<script src="./bower_components/requirejs/require.js?v=0.95" data-main="main.js?time=" + (new Date()).getTime()></script>
</body>

</html>
